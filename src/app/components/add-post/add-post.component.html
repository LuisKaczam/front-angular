<div class="container-fluid g-0 w-100 h-100">
    <app-header-sidebar (sideNavToggled)="sideNavStatus = $event"></app-header-sidebar>
    <main class="container-fluid h-100">
      <div class="row">
        <div class="col-lg-3 col-xl-2 d-none d-lg-block">
          <app-sidebar [sideNavStatus]="sideNavStatus" class="bg-white shadow-lg h-100"
            [ngClass]="{'app-side-nav-open': sideNavStatus}"></app-sidebar>
        </div>
        <div class="display-area mt-3 p-4 w-100 h-100" [ngClass]="{'display-area-shrink': sideNavStatus} " (click)="noSideBar()">
          <div class="row justify-content-center">
            <div class="col-md-8">
              <div class="text-center  side-text">
                <h2>Nova Publicação</h2>
              </div>
              <form [formGroup]="newPostForm" (ngSubmit)="registerPost()">
                <div class="form-group mb-3">
                  <label for="type">Tipo de Post</label>
                  <select class="form-control form-select" id="type" formControlName="type">
                    <option value="" disabled selected>Selecione o tipo</option>
                    <option value="video">Vídeo</option>
                    <option value="article">Artigo</option>
                  </select>
                  <div *ngIf="type.invalid && (type.dirty || type.touched)" class="text-danger ms-1">
                    <div *ngIf="type.errors?.['required']">Campo obrigatório.</div>
                  </div>
                </div>
                <div class="form-group mb-3">
                  <label for="title">Título</label>
                  <input type="text" class="form-control futuristic-input" id="title" formControlName="title" placeholder="Título">
                  <div *ngIf="title.invalid && (title.dirty || title.touched)" class="text-danger ms-1">
                    <div *ngIf="title.errors?.['required']">Campo obrigatório.</div>
                    <div *ngIf="title.errors?.['minlength']">O título deve possuir no mínimo 4 caracteres.</div>
                    <div *ngIf="title.errors?.['maxlength']">O título deve possuir no máximo 40 caracteres.</div>
                  </div>
                </div>
                <div class="form-group mb-3">
                  <label for="author">Autor</label>
                  <input type="text" class="form-control futuristic-input" id="author" formControlName="author" placeholder="Autor">
                </div>
                <div class="form-group mb-4 mt-5 item">                                      
                  <label class="form-group mb-3 mt-4 d-inline-grid item w-100 p-3 mt-2 justify-content-center text-center input-file" appDrop  (files)="fileDropped($event)">
                      <input type="file" id="arquivo" class="invisible" formControlName="link" (change)="arquivoSelecionado($event)">
                      <label for="arquivo"><i for="arquivo" class="fa-solid fa-upload fa-2xl mb-2 up-bounce item" style="color: #00B2FF;"></i></label>
                      <span class="m-2">Ou</span>
                      <label for="arquivo" class="btn custom-file-label item" style="background-color:  #00B2FF; color: white">Escolher Arquivo</label>
                      <label class="mt-3" *ngIf="fileName != ''">
                          <span>Arquivo Selecionado: {{fileName}}</span>
                      </label>
                  </label>
                  <div *ngIf="link.invalid && (link.dirty || link.touched)" class="text-danger ms-1">
                    <div *ngIf="link.errors?.['required']">Campo obrigatório.</div>
                    <div *ngIf="link.errors?.['imgError']">Formato de imagem inválido.</div>
                  </div>
                </div>
                <div class="form-group text-end mb-5">
                  <button type="submit" class="btn text-end" style="background-color: #00B2FF;; color: white">Salvar <i class="fa-regular fa-floppy-disk ms-2 me-2"></i></button>
                </div>
              </form>
          </div>
          <div class="sidebar-overlay" [ngClass]="{'overlay-active': sideNavStatus}"></div>
          <div class="d-lg-none d-fixed mt-5">
            <app-bottom-navigation></app-bottom-navigation>
          </div>
        </div>
      </div>
      </div>
   </main> 
  </div>
  

  
